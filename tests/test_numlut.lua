
-- Temporary LUT test
-- local lutCpp = ac.Lut([[
--  -100 |  0.00,   350,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.04 
--   -90 |  1.00,    10,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.04 
--   -20 |  1.00,    10,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.04 
--   -17 |  1.00,    10,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.05 
--   -14 |  1.00,    10,  0.37,  1.00,  3.00,  1.00,  0.90,  3.60,500.00,  0.1  
--   -11 |  1.00,    10,  0.37,  1.00,  3.00,  1.00,  0.80,  3.60,500.00,  0.2  
--    -9 |  1.00,    11,  0.37,  1.10,  3.00,  1.00,  0.70,  3.70,500.00,  0.5  
--    -6 |  1.00,    13,  0.37,  1.00,  3.00,  1.00,  0.60,  3.80,500.00,  1.0  
--  -4.5 |  1.30,    15,  0.37,  1.00,  3.25,  1.05,  0.50,  3.90,500.00,  2.0  
--    -3 |  1.60,    13,  0.37,  1.10,  3.50,  1.10,  0.60,  4.00,500.00,  3.0  
--    -2 |  1.25,    17,  0.37,  1.00,  3.90,  1.20,  0.70,  4.00,500.00,  4.0  
--    -1 |  1.50,    20,  0.37,  1.00,  4.30,  1.23,  0.80,  4.00,500.00,  5.5  
--     0 |  1.75,    22,  0.37,  1.00,  4.50,  1.27,  0.90,  4.00,300.00,  6.0  
--     1 |  2.00,    25,  0.37,  1.00,  4.30,  1.30,  1.00,  4.00, 60.00,  6.3  
--     2 |  2.00,    25,  0.37,  1.00,  4.00,  1.30,  1.00,  4.00, 15.00,  6.6  
--     3 |  2.00,    25,  0.37,  1.00,  3.50,  1.60,  1.00,  4.00,  9.00,  6    
--     6 |  2.00,    25,  0.37,  1.00,  3.20,  1.63,  1.00,  4.00,  3.50,  6.5  
--     9 |  1.80,    28,  0.37,  1.00,  3.20,  1.65,  1.00,  4.03,  2.50,  7    
--    11 |  1.60,    30,  0.37,  1.00,  3.40,  1.75,  1.00,  4.06,  2.25,  7.5  
--    14 |  1.40,    32,  0.37,  1.00,  3.60,  1.80,  1.00,  4.08,  2.00,  8    
--    17 |  1.20,    34,  0.37,  1.00,  3.80,  1.95,  1.00,  4.10,  1.50,  8    
--    20 |  1.00,    36,  0.37,  1.00,  4.00,  2.05,  1.00,  4.13,  1.25,  8.3  
--    30 |  1.00,    36,  0.37,  1.00,  3.80,  2.05,  1.00,  4.14,  1.00,  8.7  
--    50 |  1.00,    36,  0.37,  1.00,  3.20,  2.05,  1.00,  4.15,  1.00,  9    
--    90 |  1.00,    36,  0.37,  1.00,  3.00,  2.05,  1.00,  4.15,  1.00,  9    
-- ]], { 2 })

-- local lutJit = ac.LutJit:new{ data = {
-- { input = -100, output = {  0.00,   350,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.04 } },
-- { input =  -90, output = {  1.00,    10,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.04 } },
-- { input =  -20, output = {  1.00,    10,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.04 } },
-- { input =  -17, output = {  1.00,    10,  0.37,  1.00,  3.00,  1.00,  1.00,  3.60,500.00,  0.05 } },
-- { input =  -14, output = {  1.00,    10,  0.37,  1.00,  3.00,  1.00,  0.90,  3.60,500.00,  0.1  } },
-- { input =  -11, output = {  1.00,    10,  0.37,  1.00,  3.00,  1.00,  0.80,  3.60,500.00,  0.2  } },
-- { input =   -9, output = {  1.00,    11,  0.37,  1.10,  3.00,  1.00,  0.70,  3.70,500.00,  0.5  } },
-- { input =   -6, output = {  1.00,    13,  0.37,  1.00,  3.00,  1.00,  0.60,  3.80,500.00,  1.0  } },
-- { input = -4.5, output = {  1.30,    15,  0.37,  1.00,  3.25,  1.05,  0.50,  3.90,500.00,  2.0  } },
-- { input =   -3, output = {  1.60,    13,  0.37,  1.10,  3.50,  1.10,  0.60,  4.00,500.00,  3.0  } },
-- { input =   -2, output = {  1.25,    17,  0.37,  1.00,  3.90,  1.20,  0.70,  4.00,500.00,  4.0  } },
-- { input =   -1, output = {  1.50,    20,  0.37,  1.00,  4.30,  1.23,  0.80,  4.00,500.00,  5.5  } },
-- { input =    0, output = {  1.75,    22,  0.37,  1.00,  4.50,  1.27,  0.90,  4.00,300.00,  6.0  } },
-- { input =    1, output = {  2.00,    25,  0.37,  1.00,  4.30,  1.30,  1.00,  4.00, 60.00,  6.3  } },
-- { input =    2, output = {  2.00,    25,  0.37,  1.00,  4.00,  1.30,  1.00,  4.00, 15.00,  6.6  } },
-- { input =    3, output = {  2.00,    25,  0.37,  1.00,  3.50,  1.60,  1.00,  4.00,  9.00,  6    } },
-- { input =    6, output = {  2.00,    25,  0.37,  1.00,  3.20,  1.63,  1.00,  4.00,  3.50,  6.5  } },
-- { input =    9, output = {  1.80,    28,  0.37,  1.00,  3.20,  1.65,  1.00,  4.03,  2.50,  7    } },
-- { input =   11, output = {  1.60,    30,  0.37,  1.00,  3.40,  1.75,  1.00,  4.06,  2.25,  7.5  } },
-- { input =   14, output = {  1.40,    32,  0.37,  1.00,  3.60,  1.80,  1.00,  4.08,  2.00,  8    } },
-- { input =   17, output = {  1.20,    34,  0.37,  1.00,  3.80,  1.95,  1.00,  4.10,  1.50,  8    } },
-- { input =   20, output = {  1.00,    36,  0.37,  1.00,  4.00,  2.05,  1.00,  4.13,  1.25,  8.3  } },
-- { input =   30, output = {  1.00,    36,  0.37,  1.00,  3.80,  2.05,  1.00,  4.14,  1.00,  8.7  } },
-- { input =   50, output = {  1.00,    36,  0.37,  1.00,  3.20,  2.05,  1.00,  4.15,  1.00,  9    } },
-- { input =   90, output = {  1.00,    36,  0.37,  1.00,  3.00,  2.05,  1.00,  4.15,  1.00,  9    } },
-- }, hsvRows = { 2 }}

-- local data = {}

-- function testCpp()
--   for i = 1, 1000 do
--     lutCpp:calculateTo(data, -101)
--     lutCpp:calculateTo(data, -95)
--     lutCpp:calculateTo(data, -7)
--     lutCpp:calculateTo(data, 1.5)
--   end
-- end

-- function testJit()
--   for i = 1, 1000 do
--     lutJit:calculateTo(data, -101)
--     lutJit:calculateTo(data, -95)
--     lutJit:calculateTo(data, -7)
--     lutJit:calculateTo(data, 1.5)
--   end
-- end

-- function numlutTest()
--   ac.debug('out0C', table.concat(lutCpp:calculateTo(data, -101), ', '))
--   ac.debug('out1C', table.concat(lutCpp:calculateTo(data, -95), ', '))
--   ac.debug('out2C', table.concat(lutCpp:calculateTo(data, -7), ', '))
--   ac.debug('out3C', table.concat(lutCpp:calculateTo(data, 1.5), ', '))
--   ac.debug('out0J', table.concat(lutJit:calculateTo(data, -101), ', '))
--   ac.debug('out1J', table.concat(lutJit:calculateTo(data, -95), ', '))
--   ac.debug('out2J', table.concat(lutJit:calculateTo(data, -7), ', '))
--   ac.debug('out3J', table.concat(lutJit:calculateTo(data, 1.5), ', '))

--   -- baseline: 0.08 ms
--   -- testCpp() -- 0.25 ms (0.15 ms)
--   testJit() -- 0.36 ms (0.28 ms)
-- end
